####`tarfile`模块的常见用法总结

因工作中要不断从线上拉取数据库的表结构并且打包拉到线下，所以今天总结一下打包压缩的用法，`tarfile`和`shutil`模块都可以，但是后者要求`python`的版本比较高，所以考虑到兼容性，还是使用`tarfile`吧。

1. 压缩的用法

```

import os
import tarfile

#先创建一个tarfile对象，如果是要压缩文件的话，第一个参数的路径，名字随便定义，如果是要解压缩的话，一定要是压缩文件的绝对路径，第一个参数是压缩后的文件名称，随便起，第二个参数是压缩类型，如果不想压缩只是打包的话就写成'w',常用gz,其他的参考官方文档。
tar = tarfile.TarFile.open('/home/rocky/test.tar.gz','w:gz')
#向压缩文件里面添加想要压缩的文件/文件夹等.
tar.add('/home/rocky/pyenv')
tar.add('/home/rocky/fibfile.py')
#最后关闭压缩文件
tar.close()

#压缩完成！
```

2. 解压缩的用法

```

import os
import tarfile 

#创建一个tarfile对象
tar = tarfile.TarFile.open('/home/rocky/test.tar.gz','r:gz')
tar.extractall('/tmp/test') #参数为解压缩到指定的目录。
tar.close()
