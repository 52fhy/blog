#### 背景介绍

&emsp;从2017.6.14入职一下科技到2018.12.10离职总共服务了544天.今天抽空总结一下印象比较深的事情吧.

#### 入职一下

&emsp;在一下科技之前, 我在钱方呆了3年了, 钱方科技是一个创业公司, 工资给的本来就很低, 更别说涨工资的事情了, 也经常会遇到裁员的情况, 2017年我在天津买了房子, 首付35万, 还贷款70万, 每个月大概还款3100左右, 买房的首付我都是跟朋友亲戚借的, 还没有还清, 再加上每月的还款, 压力还是比较大的, 压力之下我选择了辞职, 找一个工资稍微高一点的工作, 正好这个时候我媳妇儿在浦项中心的一家公司工作, 我就尝试着在这附近找新工作, 看到了浦项中心大楼顶上的广告牌:

![image](https://user-images.githubusercontent.com/7486508/49680632-c4b36480-fad1-11e8-9ee2-32e594bff30b.png)

这个公司倒是没有听过, 从网上大概搜了一下这个公司, 看到了一个熟悉的名字: `秒拍`.原来秒拍就是他们公司的, 感觉还可以, 就去面试了, 面试我的就是我入职后的直属领导(虽然他很早就离开了公司, 还是很感谢他的信任的), 面试我的HR徐姐姐也是很热情, 估计HR都挺热情的吧, 也是老乡, 聊得还不错, 后来综合比较了一下, 感觉一下科技的薪酬待遇还不错, 而且跟我媳妇儿的公司又这么近, 就选择入职这里了.

#### 运维债务

刚来公司的时候, 业务快速发展, 技术申请资源, 没有正规的资源管理系统和申请流程, 导致很多资源都申请了但是后来不知道哪个项目在用了, 运维和开发沟通欠缺, 提供不了开发需要的支持, 而运维又自己蜷缩在自己的世界里, 开发的平台开发都不喜欢, 感觉非常不专业, 确实急需组建一个专业的运维团队.

#### 第一次遇到架构调整

&emsp;大概在2017年下半年的时候, 我所在的团队遭遇到了排挤, 公司收购了快更, 打算重新做一款短视频APP--`波波视频`, 公司基本上把所有的资源都倾斜到了波波视频上, 而我的团队也面临了两个选择, 要么跟着目前的老大去做另一款短视频APP--Ins视频, 要么调整到波波组件的新团队中, 当时我的直属上司是不期望我离开团队去波波视频, 希望另一个同事去; 后来剧情反转, 波波视频的运维负责人不要那个哥们, 说要我过去, 因为我跟他有过一些业务的沟通, 对我的印象还不错. 

#### 突飞猛进

&emsp;这时候老大找我谈了, 问了我的想法. 当时我的想法很简单--`跟着资源走`, 公司把所有的资源都倾斜到了波波, 我个人是希望去波波的, 毕竟运维这个工作并不能决定产品的好坏, 最后我还是去了波波视频运维团队.

&emsp;到了波波运维团队的时候就我跟直属领导甲, 这个时候正是波波视频快速起步的阶段, 有大量的服务器需要创建, 我入职的时候公司大概500台服务器, 到了波波后一下涨到2000+服务器, 可以预见当时就我们两个人, 而且甲刚来, 业务也不是很熟悉, 从500到2000的服务器基本上都是我手动从阿里云上创建的, 这确实是一个体力活, 这一过程也让我深深地意识到大公司中运维自动化的重要性, 让一切能自动化的工作都自动化起来, 不然太浪费时间了.

&emsp;刚到波波运维团队的时候, 因为工作量大了好几倍, 长时间的体力加班让我有了一些厌倦, 而且那个时候公司的氛围也不是很好, 大家都知道公司在青黄交接的时候总有很多人离职了, 我当时也有离职的想法, 毕竟跳槽后工资会涨不少, 我鼓起了勇气跟甲如实说了我的想法, 甲跟我坦诚沟通了当时的市场不好找工作, 后来他努力地向上级给我争取了涨工资的机会, 最终也如愿涨了一点, 虽然不是很多, 但是他刚来就这么给属下争取机会, 我还是很感动的, 于是就全力以赴留下来安心工作了.我是幸运的, 感谢甲.

&emsp;下面谈谈对我技术有重要进步的一个故事, 我跟甲开始的工作是整理阿里云的所有资源, 重新命名, 逐步回收权限, 当时我确实不知道整理这些有啥用, 后来招聘了一个他之前的一个部下, 是运维平台开发工程师, 没几天的时间一个简单的CMDB平台起来了, 开始我是抵制的, 毕竟通过脚本习惯了, 通过运维平台操作确实不太习惯, 但慢慢地也就习惯了, 而且还重度参与了运维平台的设计和开发, 从这件事中我深深地意识到思维一定不能固话, 要不断学习新鲜事物, 接受新鲜事物, 并纳入自己的技术栈中. 

&emsp;运维平台CMDB功能开发完以后, 就开始大规模地回收之前放出去的阿里云账号的权限, 全部通过运维平台来申请资源.这一工作完成以后就开始大规模地推广监控prometheus, 这个软件我在钱方的时候听过, 但是没有测试过, 这里也给了我一个很大的启发, 一定要抽出时间去学习新的技术, 不仅仅是看看新技术, 而是要做出demo, 紧跟趋势还是必要的, 不要认为目前公司没用到就不学习, 比如当时在钱方的时候就知道了docker, 但是到了一下科技没有使用容器就不去学习了, 可以不断学习, 自己做实验, 创造条件学习. 这件事让我对新技术的学习有更加危机感的意识, 因为甲年龄都已经比我大很多, 但是对于新技术的接纳程度比我强很多, 这一点值得我深深思考.后来又推广了ELK的日志解决方案.

&emsp;有幸在一下科技的时候经历了`百万超人项目`, 学会了应对高并发的一些常见的方法, 比如DNS层的高可用, 解析到多个SLB上, SLB后端挂载多个服务器, 一个服务器上启动多个reids实例等.

#### 第一次微服务的契机

秒拍重构, 使用了RabbitMQ, 这个时候我抓住了机会, 开启了不断学习, 解决问题的新篇章. 从没有接触过RabbitMQ, 到自己搭建集群, 解决团队使用RabbitMQ过程中的各种问题, 最终对这个软件有了非常深入了解的地步.感恩有幸参与其中.

#### 第二次微服务契机

&emsp;经过了第一次秒拍微服务的重构以后, 所有的服务都使用PHP的swoole重构了, 当时学习了RabbitMQ, 后来来了一个新的后端技术负责人, 基本上所有的服务都使用Java进行了重构. 这次重构的过程中我也积极参与了内部maven仓库的搭建, eureka的搭建, 同时我也学习了springboot写项目, 之前对Java语言一直有偏见, 认为Java语言臃肿, 开发速度慢等, 学习了springboot以后我发现不是这样的, 这次给我最大的启示是不要对任何技术有偏见, 不同的技术有不同的使用场景, 用最合适的技术解决问题就行.

#### 容器化

&emsp;2018年年中的时候, 我们开始推广容器技术, 这里我差一点又错过了容器技术, 当时我也是太不思进取, 觉得容器不太好落地, 就没有花时间去研究新技术, 后来等上海那边已经推广起来容器后才开始学习, 其实这在我看来已经是晚了, 因为这是被动的表现.

> 学习新技术一定要纳入自己的规划当中, 不能太被动, 不然会限制自己的视野.

#### 服务网格

目前社区中服务网格技术是k8s后下一个比较流行的技术, 被称为下一代微服务技术.

#### 感悟总结

* 价值的变更

快速发展的技术行业, 云计算会改变整个运维和开发的行业, 从在钱方科技的时候我就思考过, 中小公司不需要太多的运维, 大部分的运维工作已经被云厂商承包了, 到现在看来确实已经是这样了, 中小公司的开发需要具备更宽阔的知识面,要会自己运维自己的服务, 即使像一下科技这样的公司, 运维工程师的价值也很难去体现, 都是围绕着平台化去把自己的知识和技能标准化到运维平台中, 所以我现在的观点是每一个IT从业者都要学会编程, 不管是运维还是测试, 都要把编程的技能变为自己的基础技能, 毕竟机器的效率是比人高的, 而且要学习多门编程语言, 对于运维的话肯定是Python是必备.

对于运维工程师, 除了基本的Linux技能以外, 还需要更多地去了解具体的业务, 会编程, 最好能学会业务上的开发语言, 比如一下科技使用java比较多, 我自己学会了Java开发, 这样我就更能去跟开发沟通他们具体的需求和痛点, 这样就更能服务好开发.

作为开发我觉得除了日常的需求开发以外, 应该更多的去了解业界趋势, 比如现在的容器化, 容器化是解放了运维, 如果能开发能很好地学会容器, 那应该是很不错的.

总的来说, 这是一个快速发展的行业, 唯一不变的就是不断变化, 不断学习新技能, 顺势而为.

另外一点是学习最重要的是场景, 是落地, 了解业务, 服务业务. 用学到的新技能应用于公司的场景.

* 团队的建设


团队利益大于个人利益, 学习型团队, 成长型团队.

* 身体是革命的本钱

* 感谢家人, 感谢媳妇儿, 感谢兄弟, 拼命加油吧

