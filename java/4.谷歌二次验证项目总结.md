#### 背景介绍

&emsp;最近在公司做了一个关于谷歌二次验证的管理后台, 这里简单总结一下关于谷歌二次验证的知识点.

#### 原理介绍

二次验证后很早就有了, 已经不是什么新鲜的技术了, 比如`GitHub`, `Google`, 阿里云等账户都已经支持了.

服务端为用户生成一个随机字符串(规范是采用Base32加密的格式), 并跟用户绑定. 然后服务端和客户端都采用这个随机字符串和当前时间采用相同的算法计算出一个6位数字, 如果用户输入的数字跟服务端的一样, 那么就算认证成功, 一般会有一个时间宽松期, 比如服务端会认为客户端上一次产生的token也生效, 这个第三方框架都会有相关功能.

客户端工具比如`Google Authenticator`会扫面服务端产生的二维码保存起来, 这是有规范的.二维码的内容如下:

```
otpauth://totp/Github:alice@gmail.com?secret=JBSWY3DPEHPK3PXP&issuer=Github

```

