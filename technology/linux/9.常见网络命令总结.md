1. 端口查看

 * 查看系统已经打开的TCP连接(包含所有状态,已经建立连接的,正在建立,断开等等,如果要查看UDP连接的话把t改成u即可)
 	
```
root@mmwd:~# netstat -antp|more
Active Internet connections (servers and established)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      17953/sshd      
tcp        0      0 0.0.0.0:8888            0.0.0.0:*               LISTEN      1154/python     
tcp        0      0 128.199.197.146:22      61.48.34.199:51057      ESTABLISHED 30788/sshd: rocky [
tcp        0      0 128.199.197.146:8888    61.48.34.199:50533      TIME_WAIT   -               
tcp        0      0 128.199.197.146:51732   72.14.247.65:443        ESTABLISHED 1154/python     
tcp        0      0 128.199.197.146:8888    124.127.102.41:59090    ESTABLISHED 1154/python     

-a 显示所有
-n 数字化
-t tcp
-p 显示程序名称

```

```
root@mmwd:~# ss -antp
State       Recv-Q Send-Q                          Local Address:Port                            Peer Address:Port 
LISTEN      0      128                                         *:22                                         *:*     
LISTEN      0      128                                         *:8888                                       *:*     
LISTEN      0      128                                        :::22                                        :::*    
```

 * 只看established的连接.

```
ss -antp -o state established

Recv-Q Send-Q                                                Local Address:Port                                                  Peer Address:Port
0      0                                                   128.199.197.146:8888                                                120.131.74.178:52500  users:(("ssserver",1154,26))
0      0                                                   128.199.197.146:8888                                                124.127.102.41:55091  users:(("ssserver",1154,39))

```

 * 宏观统计网络连接.

```
Total: 78 (kernel 192)
TCP:   70 (estab 19, closed 46, orphaned 0, synrecv 0, timewait 46/0), ports 0

Transport Total     IP        IPv6
*	  192       -         -
RAW	  0         0         0
UDP	  2         2         0
TCP	  24        23        1
INET	  26        25        1
FRAG	  0         0         0
```

* 显示所有打开的端口(监听的端口)

```
Netid  State      Recv-Q Send-Q                                      Local Address:Port                                          Peer Address:Port
nl     UNCONN     0      0                                                    rtnl:kernel                                                    *
nl     UNCONN     4352   0                                                 tcpdiag:ss/14781                                                   *
nl     UNCONN     768    0                                                 tcpdiag:kernel

包括系统的

```

* 查看处于各个状态的TCP连接数

```
[test@hostname ~]# netstat -n | awk '/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}'
TIME_WAIT 64
CLOSE_WAIT 69
ESTABLISHED 434
``` 
