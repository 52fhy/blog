#### 背景介绍

&emsp;最近在开发运维平台MySQL监控这一块,花了一周的时间做了一个简版的MySQL可视化监控看版,大致思路是这样的:

* 在每一个待监控的数据库上创建一个统一的账号,不赋予任何权限
 `CREATE USER 'devops'@'172.100.102.101' IDENTIFIED BY '123456';`
* 写一个脚本定时(每分钟)去查询每个数据库的状态(比如`show global status`等)并存储到`InfluxDB`里面,如果是计数器的话,比如`Com_*`系列,就每隔5分钟执行一次并计算5分钟内的差值,最后一条存储在MySQL,没轮询一次就去对比MySQL中的那条记录,如果符合条件就把差值存放在`InfluxDB`
* 使用`echarts`做一些可视化的图表用来展示.

&emsp;这篇文章只是个人对MySQL监控的一个总结,公司使用的是`mysql5.5.18`,马上就会改成`mariadb`,道理都是类似的,说一说大概的思路.

#### 为什么要监控

* 实时查看MySQL当前的运行状态,保证数据库的正常运行
* 及时发现性能瓶颈,扩容
* 监控系统就是根据系统的各项状态析的，让我们能够尽可能多的提前预知系统可能会出现的异常状况, 也要在异常出现后的第一时间知道系统已经出现异常，否则之前的设计工作很可就能白费了。


#### 关键监控指标

*  











#### 参考文档

[DataDog](https://github.com/DataDog/the-monitor/tree/master/mysql)