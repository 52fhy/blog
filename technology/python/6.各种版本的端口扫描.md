####背景简介
&emsp;最近在玩树莓派,想搞一下无线渗透这一块,顺便补充一下python的基础知识,于是就用python写了端口扫描的代码,各种版本的,包括多线程,多进程,队列等.巩固一下python的socket,以及thread等模块.

* 最简单的实现版本.

```
import socket

def scan(port):
	#创建socket对象,类型为TCP,这是通过TCP的握手连接原则来判断的,UDP的话不用连接,直接发送数据.
	s = socket.socket(socket.AF_INET,socket.SOCK_STREAM) #默认创建的是TCP,所以括号里为空也一样.
	#设置连接超时时间.
	s.settimeout(0.5)
	#尝试连接,如果连接成功则返回状态码0,这也是connect跟connect_ex的区别,一个报错一个返回错误状态码,来判断端口是否打开.
	if s.connect_ex(('172.100.101.107',port)) == 0:
		print port,'is open'
	s.close()

if __name__ == '__main__':
	#map()函数的使用.
	map(scan,xrange(65535))
```

* 利用循环for迭代host,port.

```
def scan(host,port):
	s = socket.socket() #默认TCP.
	s.settimeout(0.1)
	if s.connect_ex((host,port)) == 0:
		print host,port,'is open'
	s.close()
if __name__ == '__main__':
	lst = ['127.0.0.1','172.100.102.101','106.3.36.132','223.202.100.25']
	for host in lst:
		for port in xrange(65535):
			 scan(host,port)
```


		
