#### 背景介绍

这里总结一下在推进k8s落地的过程中踩坑总结以及解决方法.

#### 总结

* `initialDelaySeconds`

这个参数是k8s配置服务的健康检查的时候使用的, 我们知道, k8s的健康检查有2种, 一种是存活检查, 当这个检查失败的时候, k8s会尝试重启该pod, 另一种是就绪检查, 当这个检查失败的时候, k8s会把该pod从service上摘下来, 还有一个点是很重要的, 比如我在k8s上部署了一个Java项目, 这个项目启动时间是30秒, 那么我就需要配置上面的这个参数, pod启动的时候让健康检查的探针30秒以后再执行检查,实际工作中, 一个普通的springboot项目启动要话费50秒左右, 所以这个值对于Java来说至少需要配置成60才可以, 不然经常会出现新部署的pod一直重启.